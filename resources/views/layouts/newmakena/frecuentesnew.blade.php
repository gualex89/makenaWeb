@extends('layouts.newmakena.app2')

@section('title', 'Preguntas Frecuentes - Makena Fundas')

@section('content')
<section class="tf-section pt-80 pb-80 background-white">
    <div class="container">
        <div class="tf-section-2 wrap-accordion">
                <div class="themesflat-container w730">
                    <div class="row">
                        <div class="col-md-12 mb-20">
                            <div class="text-center mb-5">
                                <h1 class="tf-color" style="font-weight: 800; font-size: 3rem;">Preguntas Frecuentes</h1>
                                <div class="divider mt-3 mb-4" style="background: rgba(0,0,0,0.1);"></div>
                                
                            </div>
                            <div class="flat-accordion2">
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øC√≥mo puedo crear mi producto personalizado?</h6>
                                    <div class="toggle-content">
                                        <p>Pod√©s personalizar tanto <b>fundas</b> como <b>cuadros metalizados</b> desde la opci√≥n <b>‚ÄúCrea tu Funda y Crea tu Cuadro‚Äù</b> en el men√∫ principal. <br>
                                        Ah√≠ vas a poder subir la imagen que quieras. En el caso de  las fundas vas a poder previsualizar c√≥mo quedar√° el producto final antes de confirmar tu pedido. Para cuadros solo te permite subir la imagen para cargarla en nuestra base de datos.
                                        </p>
                                    </div>
                                </div>
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øQu√© resoluci√≥n debe tener la imagen para personalizar?</h6>
                                    <div class="toggle-content">
                                        <p>Recomendamos que la imagen tenga al menos <b>600 px por 1200 px</b> para fundas, y <b>Full HD(1920x1080 px)</b> o superior para cuadros.
                                        Cuanto mejor sea la calidad de la imagen, m√°s n√≠tido ser√° el resultado final.</p>
                                    </div>
                                </div>
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øY si no puedo crear el dise√±o como quer√≠a?</h6>
                                    <div class="toggle-content">
                                        <p>Si la imagen no queda como esperabas o quer√©s un dise√±o m√°s elaborado, pod√©s escribirnos por <a href="https://Wa.me/541122444188" class="tf-color"><b>WhatsApp</b></a> para solicitar la ayuda de nuestro dise√±ador gr√°fico y <b> cotizar un redise√±o personalizado.</b></p>
                                    </div>
                                </div>
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øPara qu√© modelos de celular tienen fundas?</h6>
                                    <div class="toggle-content">
                                        <p>Trabajamos con la mayor√≠a de los modelos de <b>Samsung, Motorola, Apple, Xiaomi</b> y algunos <b>LG, Infinix y Tecno</b>. <br>
                                        Pod√©s verificar si tu modelo est√° disponible entrando en el apartado <a href="/tufunda" class="tf-color"><b>Modelos disponibles</b></a> y seleccionando la marca de tu celular. Ten√© en cuenta que siempre estamos agregando nuevos modelos a nuestro Stock, pod√©s consultar por whatsapp los proximos ingresos.
                                        </p>
                                    </div>
                                </div>
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title"> ¬øQue medidas vienen los cuadros??</h6>
                                    <div class="toggle-content">
                                        <p>Trabajamos con 3 medidas, 20 x 30cm, 30 x 40cm y 40 x 60cm. Cada medida tiene su respectivo valor el cual lo podras ver en el catalogo o en <a href="/tucuadro" class="tf-color"><b>Crea tu cuadro</b></a></p>
                                    </div>
                                </div>     
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øHacen env√≠os?</h6>
                                    <div class="toggle-content">
                                        <p>¬°Obvio!  Enviamos a <b>todo el pa√≠s</b>. <br>
                                        Si est√°s en <b>CABA o Conurbano</b>, el env√≠o se realiza por moto mensajer√≠a y llega entre <b>24 y 72 hs h√°biles</b>. (aproximadamente).<br><br>
                                        Si sos del <b>interior del pa√≠s o Provincia de Buenos Aires</b>, se env√≠a con <b>Correo Argentino</b> a domicilio o sucursal y llega entre 2 y 7 d√≠as h√°biles. (aproximadamente).
                                        </p>
                                    </div>
                                </div>     
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øPuedo retirar mi pedido?</h6>
                                    <div class="toggle-content">
                                        <p>S√≠. Pod√©s retirar tus <b>fundas o cuadros</b> en nuestro <b>taller ubicado en Lan√∫s Oeste</b> una vez que te avisemos que est√° listo.</p>
                                    </div>
                                </div>     
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øHacen punto de encuentro?</h6>
                                    <div class="toggle-content">
                                        <p>No, √∫nicamente <b>retiros en taller o env√≠os a domicilio/sucursal</b>.</p>
                                    </div>
                                </div>                               
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øDe qu√© material est√°n hechos los productos?</h6>
                                    <div class="toggle-content">
                                        <p><b>Fundas:</b> Fabricadas con bordes de <b>TPU flexible</b> (m√°s resistente que la silicona) con absorci√≥n de impactos y superficie personalizable en <b>aluminio y polimero</b> con acabado brillante tipo espejo. <br><br>
                                            <b>Cuadros:</b> Hechos de <b>aluminio de 1 mm</b> de espesor, con <b>impresi√≥n en 2400 DPI y acabado brillante</b>. Vienen listos para colgar con el sistema que elijas (hook o im√°n).
                                        </p>
                                    </div>
                                </div>                               
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øCu√°l es el tiempo de producci√≥n?</h6>
                                    <div class="toggle-content">
                                        <p>El tiempo de producci√≥n es de <b>24 a 72 hs h√°biles</b> una vez confirmado el dise√±o y el pago. En caso de faltante de stock o insumos, te avisaremos para informarte la demora y ofrecerte opciones alternativas.</p>
                                    </div>
                                </div>                               
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øPuedo hacer el seguimiento de mi pedido?</h6>
                                    <div class="toggle-content">
                                        <p><b>S√≠.</b>  <br><br>
                                        <b>Correo:</b> Te enviaremos un mail con tu n√∫mero de seguimiento una vez sea despachado para rastrear el paquete en Correo Argentino. <br><br>
                                        <b>Motomensajeria:</b> te avisaremos cuando sea despachado a traves de un mail. <br><br>
                                        <b>Retiro:</b> Cuando tu pedido est√© listo para retirar te avisaremos v√≠a mail. 
                                        </p>
                                    </div>
                                </div>                               
                                <div data-wow-delay="0s" class="wow fadeInUp flat-toggle2">
                                    <h6 class="toggle-title">¬øLos productos tienen garant√≠a?</h6>
                                    <div class="toggle-content">
                                        <p>S√≠. Todos nuestros productos cuentan con <b>30 d√≠as de garant√≠a</b> a partir de la compra, por fallas de fabricaci√≥n. <br><br>
                                        No realizamos cambios por mal uso o errores en la selecci√≥n del modelo.
                                        Si ten√©s dudas sobre el modelo de tu celular pod√©s consultar nuestro <a href="https://www.instagram.com/stories/highlights/17891378999691555/" class="tf-color"><b>tutorial de ayuda</b></a> antes de comprar.
                                        </p>
                                    </div>
                                </div>                               
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div> 
    </div>
</section>
<div class="cart_sidebar" style="display:none; position:fixed; top:0; right:0; width:370px; height:100vh; background:#181818; z-index:9999; box-shadow:-2px 0 10px rgba(0,0,0,0.2); overflow-y:auto;">
    <button type="button" class="close_btn" style="background:none; border:none; color:#fff; font-size:2rem; position:absolute; top:15px; right:15px; z-index:10001;"><i class="fas fa-times"></i></button>
    <div style="padding:40px 24px 24px 24px;">
        <ul class="cart_items_list ul_li_block mb_30 clearfix" style="padding:0; margin:0 0 30px 0;">
            <!-- Items del carrito se llenan por JS -->
        </ul>
        <ul class="total_price ul_li_block mb_30 clearfix" style="padding:0; margin:0 0 30px 0;">
            <li class="total_sidecart">
                <span>Subtotal:</span>
                <span>$0</span>
            </li>
            <li class="total_sidecart">
                <span>Total:</span>
                <span>$0</span>
            </li>
        </ul>
        <ul class="btns_group ul_li_block clearfix" style="padding:0;">
            <li><a href="/carrito" class="tf-button style-1 w-100">Ir al carrito</a></li>
        </ul>
    </div>
</div>
@endsection
    @push('scripts')

        

        <script src="{{ asset('js/nice-select.min.js') }}"></script>
        

        
        

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                let cartItemCount = 0;
                let subtotal = 0;
                let total = 0;
                let cartItems = [];

                function updateCartCounter() {
                    const badgeElements = document.querySelectorAll('.btn_badge');
                    badgeElements.forEach(element => {
                        element.textContent = cartItemCount;
                    });
                }

                function productoAgregadoAlCarrito() {
                    Swal.fire({
                        icon: 'success',
                        title: 'Producto agregado al carrito',
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 1500,
                        timerProgressBar: true,
                        iconColor: '#4CAF50',
                        didOpen: () => {
                            Swal.showLoading();
                        }
                    });
                }

                function updatePrices() {
                    const subtotalElement = document.querySelector('.total_price li:nth-child(1) span:nth-child(2)');
                    const totalElement = document.querySelector('.total_price li:nth-child(2) span:nth-child(2)');
                    if (subtotalElement && totalElement) {
                        subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
                        totalElement.textContent = `$${total.toFixed(2)}`;
                    }
                }

                let price, itemName, imageUrl;

                // Mostrar la modal al hacer clic en ‚ÄúSeleccion√° tu modelo‚Äù
                function addToCart(productItem) {
                    price = parseFloat(productItem.querySelector('.item_price').textContent.replace('$', ''));
                    itemName = productItem.querySelector('.item_title').textContent;
                    imageUrl = productItem.querySelector('img').getAttribute('src');

                    // Mostrar la imagen en la modal
                    const productImageElement = document.getElementById('productImageAlcarrito');
                    if (productImageElement) productImageElement.src = imageUrl;

                    // Mostrar modal moderna Bootstrap 5
                    $('#addToCartModal').modal('show');
                }

                // Confirmar selecci√≥n desde la modal
                document.getElementById('addToCartModalOkButton').addEventListener('click', function() {
                    const selectedMarca = document.getElementById('marcasDropdown').value;
                    const selectedModelo = document.getElementById('modelosDropdown').value;
                    const selectedMarca2 = document.getElementById('marcasDropdown2')?.value || null;
                    const selectedModelo2 = document.getElementById('modelosDropdown2')?.value || null;

                    // Verificar selecci√≥n
                    if (selectedModelo || selectedModelo2) {
                        const pendingCartItem = {
                            name: itemName,
                            price: price,
                            image: imageUrl,
                            marca: selectedMarca,
                            modelo: selectedModelo,
                            marca2: selectedMarca2,
                            modelo2: selectedModelo2
                        };

                        cartItemCount++;
                        subtotal += pendingCartItem.price;
                        total = subtotal;
                        cartItems.push(pendingCartItem);
                        localStorage.setItem('cartItems', JSON.stringify(cartItems));
                        updateCartItems();
                        updatePrices();
                        productoAgregadoAlCarrito();
                        $('#addToCartModal').modal('hide');

                        
                    } else {
                        Swal.fire({
                            icon: 'warning',
                            title: 'Seleccion√° el modelo antes de continuar',
                            timer: 1500,
                            showConfirmButton: false,
                            toast: true,
                            position: 'top-end'
                        });
                    }
                });

                // üß© Muestra de productos en el carrito lateral (dise√±o original restaurado)
                function updateCartItems() {
                    const cartItemsList = document.querySelector('.cart_items_list');
                    if (!cartItemsList) return;

                    cartItemsList.innerHTML = '';

                    cartItems.forEach(cartItem => {
                    let tipoProducto = 'Funda';

                    if (cartItem.marca2) {
                    tipoProducto = 'Funda Doble';
                    } else if (cartItem.name.toLowerCase().includes('cuadro')) {
                    tipoProducto = 'Cuadro';
                    }

                    const cartItemHTML = `
                        <li style="background:transparent; margin-bottom:32px; padding:0; display:flex; align-items:center;">
                        <div style="background:#fff; border-radius:18px; padding:12px; display:flex; align-items:center; width:70px; min-width:30px; justify-content:center;">
                            <img src="${cartItem.image}" alt="${tipoProducto} ${cartItem.name}" style="width:100%; border-radius:4px; display:block;"/>
                        </div>
                        <div class="item_content" style="color:#fff; margin-left:18px; position:relative; flex:1;">
                            <div style="padding-right:32px;">
                            <span class="item_type" style="font-size:13px;">${tipoProducto}</span>
                            <div style="font-weight:700; font-size:18px; margin:2px 0;"><span class="item_title">${cartItem.name}</span></div>
                            <div style="font-size:15px; margin-bottom:2px;">${cartItem.marca || ''} ${cartItem.modelo || ''}</div>
                            ${cartItem.marca2 ? `<div style="font-size:15px;">${cartItem.marca2} ${cartItem.modelo2}</div>` : ''}
                            <div style="font-weight:700; font-size:17px; margin-top:6px;"><span class="item_price">$${cartItem.price.toLocaleString('es-CL')}</span></div>
                            </div>
                        </div>
                        <button type="button" class="remove_btn" style="background:none; border:none; color:#fff; font-size:2rem;">
                            <i class="bi bi-trash"></i>
                        </button>
                        </li>
                    `;

                    cartItemsList.innerHTML += cartItemHTML;
                    });

                    updateCartCounter();
                }

                // Restaurar carrito guardado
                function restoreCart() {
                    const storedCartItems = localStorage.getItem('cartItems');
                    if (storedCartItems) {
                        cartItems = JSON.parse(storedCartItems);
                        cartItemCount = cartItems.length;
                        subtotal = cartItems.reduce((sum, item) => sum + item.price, 0);
                        total = subtotal;
                        updateCartItems();
                        updatePrices();
                    }
                }

                // Eliminar √≠tem
                function removeFromCart(item) {
                    const itemName = item.querySelector('.item_title').textContent;
                    const indexToRemove = cartItems.findIndex(cartItem => cartItem.name === itemName);

                    if (indexToRemove !== -1) {
                        subtotal -= cartItems[indexToRemove].price;
                        total = subtotal;
                        cartItems.splice(indexToRemove, 1);
                        localStorage.setItem('cartItems', JSON.stringify(cartItems));
                        cartItemCount--;
                        updateCartItems();
                        updatePrices();
                        updateCartCounter();
                    }
                }

                // Inicializaci√≥n
                restoreCart();

                document.querySelectorAll('.alCarrito').forEach(btn => {
                    btn.addEventListener('click', function(event) {
                        event.preventDefault();
                        const productItem = this.closest('.motorcycle_product_grid');
                        addToCart(productItem);
                    });
                });

                // Bot√≥n eliminar en carrito lateral
                document.querySelector('.cart_items_list').addEventListener('click', function(event) {
                    if (event.target.classList.contains('remove_btn') || event.target.closest('.remove_btn')) {
                        const item = event.target.closest('li');
                        removeFromCart(item);
                    }
                });

                document.querySelectorAll('.ver-btn').forEach(btn => {
                    btn.addEventListener('click', function(event) {
                        event.preventDefault();
                        const imageUrl = this.getAttribute('data-image');
                        const productName = this.getAttribute('data-title');
                        const productImageElement = document.getElementById('productImage');
                        productImageElement.src = imageUrl;
                        const modalTitleElement = document.getElementById('productImageModalLabel');
                        modalTitleElement.textContent = productName;
                        $('#productImageModal').modal('show');
                    });
                });

                // Sidebar abrir/cerrar
                function openCartSidebar() {
                    document.querySelector('.cart_sidebar').style.display = 'block';
                    document.body.style.overflow = 'hidden';
                }

                function closeCartSidebar() {
                    document.querySelector('.cart_sidebar').style.display = 'none';
                    document.body.style.overflow = '';
                }

                document.querySelectorAll('.open-cart-sidebar').forEach(btn => {
                    btn.addEventListener('click', openCartSidebar);
                });
                document.querySelector('.cart_sidebar .close_btn').addEventListener('click', closeCartSidebar);

                document.addEventListener('mousedown', function(event) {
                    const sidebar = document.querySelector('.cart_sidebar');
                    if (
                        sidebar.style.display === 'block' &&
                        !sidebar.contains(event.target) &&
                        !event.target.classList.contains('open-cart-sidebar')
                    ) {
                        closeCartSidebar();
                    }
                });
            });
        </script>


    @endpush

        
        
